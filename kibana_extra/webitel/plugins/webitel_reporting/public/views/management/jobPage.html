<kbn-management-app section="kibana">
    <div class="container-fluid">
        <form style="margin-top: 20px" role="form" name="objectForm" ng-submit="submit()">
            <div class="row">

                <div class="col-md-6">
                    <div class="form-group">
                        <label>Name</label>
                        <input required ng-model="field.name" ng-disabled="!isNew" class="form-control span12" style="margin-top: 5px; overflow: hidden; word-wrap: break-word; resize: none; height: 34px;"/>
                    </div>

                    <div class="form-group">
                        <label>Timezone</label>
                        <select style="margin-top: 5px;" name="interval" class="form-control" ng-model="field.timezone" required
                                ng-options="zone.id as zone.name  for zone in timeZones  | orderBy:'name'"></select>
                    </div>

                    <div class="form-group">
                        <label>Crontab (Example: 1 */1 * * *)</label>
                        <input required ng-pattern="/^(\*|([0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9])|\*\/([0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9])) (\*|([0-9]|1[0-9]|2[0-3])|\*\/([0-9]|1[0-9]|2[0-3])) (\*|([1-9]|1[0-9]|2[0-9]|3[0-1])|\*\/([1-9]|1[0-9]|2[0-9]|3[0-1])) (\*|([1-9]|1[0-2])|\*\/([1-9]|1[0-2])) (\*|([0-6])|\*\/([0-6]))$/" ng-model="field.cron" class="form-control span12"
                               style="margin-top: 5px;overflow: hidden; word-wrap: break-word; resize: none; height: 34px;"/>
                    </div>

                    <div class="form-group">
                        <label>Report interval</label>
                        <select style="margin-top: 5px;" name="interval" class="form-control" ng-model="field.dateInterval" required
                                ng-options="interval.display for interval in intervalOptions  track by interval.display"></select>
                    </div>


                    <div class="form-group">
                        <label>Email(s)</label>
                        <input required ng-model="field.emails" class="form-control span12" style="margin-top: 5px;overflow: hidden; word-wrap: break-word; resize: none; height: 34px;"/>
                    </div>

                    <div class="form-group">
                        <label>Subject</label>
                        <input required ng-model="field.subject" class="form-control span12" style="margin-top: 5px;overflow: hidden; word-wrap: break-word; resize: none; height: 34px;"/>
                    </div>

                    <div class="form-group">
                        <label>Text</label>
                        <textarea rows="3" required ng-model="field.text" class="form-control span12" style="margin-top: 5px;overflow: auto; word-wrap: break-word; resize: none; height: 102px;"></textarea>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="job-management-objects">
                        <ul class="list-unstyled" >
                            <li class="item" ng-repeat="item in field.vis">
                                <div class="actions pull-right">
                                    <button ng-click="removeVis(item, $event)" class="kuiButton kuiButton--danger" aria-label="Remove">
                                        <span class="sr-only">Remove</span>
                                        <i aria-hidden="true" class="fa fa-trash"></i>
                                    </button>
                                </div>

                                <div class="item-title">
                                    <span>{{item.name}}</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </form>

        <div class="form-group">
          <button aria-label="Save" class="kuiButton kuiButton--success" ng-click="submit()" ng-disabled="objectForm.$invalid">Save</button>
            <button aria-label="Close" class="kuiButton kuiButton--primary" ng-click="close()">Close</button>
        </div>
    </div>
</kbn-management-app>
